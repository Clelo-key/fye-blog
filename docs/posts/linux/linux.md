---
title: linux 常用知识
category:
    - 运维
tag:
    - linux
    - out date
excerpt: 一些常用的linux命令，包括用户管理，权限配置，文件解压缩等。
---

## linux 用户管理:

### **一、用户与用户组增删:**

添加用户：useradd '用户名'

添加账户并主动设置其文件夹位置：useradd -d '文件路径' '用户名'

为指定用户设置密码：passwd '用户名'

删除用户:userdel '用户名'

添加账户并设置组名 ：useradd -g '组名' '用户名'

查看当前会话用户：whoami

查看窗口初始用户：who am i

临时提升普通用户权限：sudo(使用 sudo 的前提是,执行用户需要被管理员添加到 sudoers 文件内)

添加用户组：groupadd '用户组名'

删除用户组：groupdel '用户组名'

将用户添加到用户组：usermod -g '用户组名' '用户名

将用户添加到用户组: gpasswd -a 用户 用户组

### **二、linux 用户权限配置:**

1. 权限方式变更

    1. -方法一：chmod [{u g o a}{+-=}{rwx}] '文件或目录名'

    2. -方法二：chmod [ 421 ] ['文件或目录名'] --> (r=4 . w=2 .x=1)

2. 直接修改指定文件夹内所有文件的权限：

    1. -方法一：chmod -R [{ugoa}{+-=}{rwx}] '目录名'

    2. -方法二：chmod -R [mode=421] ['目录名']

3. 改变文件所有者：chown:[选项][最终用户][文件或目录]

4. 改变文件所有组：chgrp[最终用户][文件或者目录]

---

## rpm 软件包 :

### 1. rpm 常用命令:

1. -e 卸载软件包

2. --nodeps 卸载软件不检查,强行卸载

3. -ivh i=install(安装) v=version(显示详细信息) -h=hash(进度条)

4. --replacefiles 替换软件包信息,不提示

5. --forece 强制安装

6. -q 查询软件是否安装

7. -qa 查看所有安装的软件

---

## yum 软件包 :

修改 yum 下载源地址:(/etc/yum.repos.d/CentOs-Base.repo)

### 1. yum 常用命令:

1. -y 对所有提问都回答 yes

2. install 安装 rpm 软件包

3. update 更新 rpm 软件包

4. check-update 检查是否有更新

5. remove 删除指定的 rpm 软件包

6. list 显示软件包信息

## 查找类 :

### 一 :find 类

1. 按照文件名查找文件:find -name '文件名'

2. 查询指定用户名的所有文件:find -user '用户名'

3. 按照文件大小查询文件:find -size '文件大小'

    1. b--块\_\_\_512 字节
    2. c--字节
    3. w--字\_\_\_2 字节
    4. k--千字节
    5. M--兆字节
    6. G--吉字节

### 二 :locate 类

1. 根具**locate 数据库** 快速定位文件位置:

    1. 更新数据库命令:updatedb

    2. 定位文件命令:locate '文件位置'

### 三 :which 类

1. 查找系统命令的所在位置

    1. which '命令名'

### 四 :whereis 类

1. 查找系统命令的所在位置

    1. whereis '命令名'

### 五 :grep 类 和 管道符 ' | ' :

<font size='1'>grep 命令可用不打开文件,直接查询文件里的内容.</font>

1. 查找文件内容:
    1. cat '文件名' | grep -n '筛选内容'
    2. grep -n '关键字' '文件名'
2. 查找文件夹:
    1. ls '文件名' | grep -n '筛选内容'

### 六 :wc 类 :

<font size=1>统计内容的行数,单词数和字节数</font>

1. 配合 grep 使用,查看内容信息
    1. cat '文件名' | grep -n '筛选内容' | wc

## 压缩/解压类 :

### 一 :gzip 类 :

1. 压缩命令:gzip '文件名'
    1. gzip 只能压缩文件,不能压缩目录.
    2. gzip 压缩文件后,被压缩的文件会消失.
    3. 同时压缩多个文件,会产生多个压缩包.
    4. 压缩后的文件后缀为.gz
2. 解压命令:gunzip '压缩包名'

### 二 :zip 类 :

1. 压缩命令:zip '文件名'
    1. zip -r '目录名',压缩目录
    2. zip 压缩文件后,原文件仍会保存.
    3. 压缩后的文件后缀为.zip
    4. zip 可压缩多个文件
2. 解压命令:unzip '压缩包名'
    1. unzip -d '指定解压后文件的存放目录'

### 三 :tar 类 :

1. 打包命令:tar [选项] '打包后的文件名'.tar.gz '需要打包的文件名'
    1. -c 产生.tar 打包文件
    2. -v 显示详细信息
    3. -f 指定压缩后的文件名
    4. -z 打包同时压缩
2. 解包命令:tar [选项] '需要解包的文件名' -C '解包后的文件存放目录'
    1. -x 解包 tar
    2. -z 解包 gz
    3. -v 显示详细信息
    4. -f 指定压缩后的文件名
    5. -C 解压到指定目录

### 磁盘管理类 ：

### 一：du 类：

1. 显示目录下每个子文件的磁盘占用情况：
    1. du '文件或目录'
        1. -h 以人们较易阅读的 GBytes,MBytes,KBytes 等格式自行显示。
        2. -a 不仅查看子目录大小，还包括文件
        3. -c 显示所有的文件和子目录大小后，显示总和
        4. -s 只显示总和
        5. --max-depth=n 指定统计目录的深度为 n 层

### 二：df 类：

1. 查看当前磁盘的暂用空间
    1. df -h

### 三： lsblk 类：

1. 查看详细的设备挂载情况：
    1. lsblk -f

### 四：挂载/卸载

1. 挂载设备
    1. mount [-t vfstype] [-o options] device dir
        1. -t vfstype: 指定文件系统的类型，通常不必指定，mount 会自动选择正确的类
        2. -o options：主要用来描述设备或档案的挂接方式。常用的参数有：
            1. loop：用来把一个文件当成硬盘分区挂接上系统。
            2. ro:采用只读的方式挂接设备

httpd:配置文件/etc/httpd/conf/httpd.conf
默认模板在"/var/www/html"
